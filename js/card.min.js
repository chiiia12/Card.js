function Card(t,i){var e=$(i);this.widthValue=null==init.width?300:init.width,this.heightValue=300,this.marginValue=50,this.render=function(i){console.log(i);var n=i+200*t;e.css({top:Math.sin(n/540*Math.PI)*(this.heightValue+this.marginValue)+50+"px",left:350*Math.cos(n/540*Math.PI)-340+"px",transform:"rotateZ("+n/6+"deg)","z-index":cardNum-t,width:this.widthValue+"px",height:this.heightValue+"px"})},this.getCard=function(){return e}}function main(){function t(t){for(i=0;i<cardNum;i++)a[i].render(t)}{var e=$("#box"),n=!1,a=[];setInterval(function(){t(r)},30)}for(console.log($("#box>.card").length),a=$("#box > .card"),cardNum=a.length,console.log(a),console.log(a.length),console.log(a[0]),$("#box").text(""),i=0;i<a.length;i++)a[i]=new Card(i,a[i]),a[i].render(r),e.append(a[i].getCard());var e=document.getElementById("box"),o=0,r=0;e.addEventListener("touchstart",function(t){o=t.touches[0].pageY}),e.addEventListener("touchmove",function(t){if(n)return void console.log("touchmove");var i=t.touches[0].pageY;r+=i-o,o=i})}function getRotate(t){var i=new WebKitCSSMatrix(t),e=i.a,n=i.b,a=Math.sqrt(e*e+n*n),o=n/a,r=Math.round(Math.asin(o)*(180/Math.PI));return r}var cardNum;init={width:10,height:100,margin:100};var init={width:null,height:null,margin:null};main();